[实时详细日志查看](https://gitee.com/lyc486/legado/commits/main)
# 更新日志

## cronet版本: 128.0.6613.40

## **必读**
【温馨提醒】 *更新前一定要做好备份，以免数据丢失！*

* 阅读只是一个转码工具，不提供内容，第一次安装app，需要自己手动导入书源。
* 正文出现缺字漏字、内容缺失、排版错乱等情况，有可能是净化规则或简繁转换出现问题。

**2025/10/28**
- 新增内置视频播放器，支持视频类书源
- 修改封面比例同多数平台的3:4
- 本地TXT目录规则支持js处理
- 净化规则使用js时支持book，chapter
- 支持书源监听加入书架，分享按钮，保存进度等事件并回调
- openUrl函数打开阅读自身的链接不再弹窗提示
- 正则表达式教程不再有超链接，避免被误点
- 单书源搜索后续不继续维持单书源状态
- 授权弹窗适配暗色主题，且最多只弹窗5次
- 书架支持网格两列、紧凑列表布局，间距支持自定义，支持隐藏书名、叠加书名
- tts界面增加清除缓存按钮
- 书源发现列表获取超时时间由30秒改为60秒
- 段评图占位符不再发送到tts
- 删除tts规则时会二次提醒
- 让段评图片更容易识别点击
- 登录界面支持切换按钮，支持识别按钮长按点击，支持设定默认值，支持js改变按钮文本
- 支持登录界面执行的函数打开书源发现界面
- 支持点击订阅源历史记录跳转到内容页
- 支持图片类订阅源，点击直接查看全图
- 支持订阅源自己决定预加载
- 支持订阅源搜索功能

**2025/09/22**
* 新增一款专属的代码编辑器，极大提高代码编写体验
* (改回)书源编辑时文本能跟随光标滚动了
* 软件内部更新链接更换为本复刻仓库的gitee链接
* 登录界面按钮300ms防抖
* 软键盘自定义文本支持换行符和制表符
* 支持鼠标滑轮滚动小说视图
* 新增订阅源瀑布流样式，强烈推荐
* 订阅源不同分类可以同时持有同一个播放链接，避免了这个情况视频在不同分类跳转
* 新增一些界面的日志、编辑源接口，提升源编写体验

**2025/09/09**
* 更新目录时，继承章节变量等附加信息
* 编辑源时文本支持撤销/重做

**2025/08/26**
* 登录url规则支持book和chapter对象
* 详情页刷新目录成功后也会移除更新失败分组
* 支持自动更新书源、订阅源、替换规则的订阅链接

**2025/08/19**
* 修复一个低概率订阅源迁移后的异常情况
* jdlib密封对象限制改为只限制创建隐性全局变量
* 修复setwebcookie函数链接参数带路径是异常
* 规则判断支持数字0判断未true（由于数字0会被自动转为0.0）
* 新增函数
  - source.refreshExplore()刷新发现
  - source.refreshJSLib()刷新jslib

**2025/08/08**
* 音频播放支持跳过片头片尾
* 音频支持显示歌词
* 状态栏音频控制支持上一首下一首
* 支持自定义本地dns
* 支持书源通过图片链接控制样式
* 点击图片执行链接js函数
* 支持标题显示图片
* 订阅源能识别更新状态
* 字数显示能识别在线字数
* 支持epub统计每章字数
* 优化字数统计，使其更加准确
* 优化书籍详情页平板布局
* 优化并发率控制实现
* 新增java.setConcurrent(concurrent:Sring)实时改变并发率
* 函数startBrowser、startBrowserAwait支持html参数
* 新增isFromBookInfo变量，判断是否来源于详情页刷新
* 新增cookie.setWebCookie(url,cookie)为内置浏览器设置cookie
* 登录UI支持用js构建
* 高亮代码限制提高到2万字符，支持let、const关键字高亮
* 优化text图片大小与字体汉字相同
* 内置浏览器变动
  - 支持screen.orientation.lock在全屏时控制屏幕方向
  - 支持window.close()关闭网页
  - 支持window.run(jscode)异步执行阅读的java函数
  - 支持不静音自动播放视频
* 订阅源变动
  - 单url订阅源支持加载内容规则
  - 订阅源分类自动分多行显示
  - 点击过的订阅源分类自动变暗
  - 支持为订阅源设定起始页
  - 单个分类时标题显示为分类名
  - 浏览器会优先读取已有的Glide图片缓存
  - 新增网页日志开关，console.log会输出到阅读日志
  - 支持函数直接打开分类界面和正文界面
  - 优化刷新按钮效果为重新访问链接再刷新

**2025/03/26**
* 目前阅读被恶意注册软著，并建立了多个公众号
* 官方公众号仅有：开源阅读、开源阅读软件，其他公众号与本软件无关

**2024/10/03**
* web书架支持加载网络字体、试读非书架书籍后弹窗、自定义后端IP
* rss收藏添加分组管理
* 朗读功能添加流式播放音频、来电自动暂停播放功能
* 其它bug修复

**2024/02/27**
* 添加备用URL导出
* 更新书源制作的帮助文档链接

**2024/02/20**
* 更新cronet: 121.0.6167.180
* 更新 kotlin->1.9.22 ksp->1.0.17
* 界面绘制优化
* Bug修复和其他优化

----

* [2023年日志](https://github.com/gedoor/legado/blob/record2023/app/src/main/assets/updateLog.md)
* [2022年日志](https://github.com/gedoor/legado/blob/record2022/app/src/main/assets/updateLog.md)
* [2021年日志](https://github.com/gedoor/legado/blob/record2021/app/src/main/assets/updateLog.md)
